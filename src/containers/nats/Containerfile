# Use Debian as base
FROM debian:latest

# Install dependencies
RUN apt-get update && apt-get install -y bash curl unzip

# Install NATS server
RUN curl -L https://github.com/nats-io/nats-server/releases/latest/download/nats-server -o /usr/local/bin/nats-server \
    && chmod +x /usr/local/bin/nats-server

# Install NATS CLI
RUN curl -L https://github.com/nats-io/natscli/releases/latest/download/nats -o /usr/local/bin/nats \
    && chmod +x /usr/local/bin/nats

# Set working directory
WORKDIR /var/lib/nats

# Expose ports
EXPOSE 4222 6222 8222

# Default command
CMD ["/bin/bash"]
